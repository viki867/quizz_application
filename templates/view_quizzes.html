{% extends 'base.html' %}
{% block content %}
<div class="container mt-5">

    <!-- Heading Section -->
    <div class="text-center mb-4">
        <h2 class="fw-bold text-white">Manage Quizzes</h2>
        <p class="text-light">View, edit, upload or delete your quizzes easily.</p>
        <a href="{% url 'add_quiz' %}" class="btn btn-primary rounded-pill px-4 shadow">+ Add New Quiz</a>
    </div>

    <!-- Table Section -->
    <div class="table-responsive mt-4">
        <table class="table table-dark table-striped table-hover align-middle shadow-lg rounded-3 overflow-hidden">
            <thead class="bg-gradient-primary text-white">
                <tr>
                    <th class="px-4 py-3">Quiz Title</th>
                    <th class="px-4 py-3 text-center">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for quiz in quizzes %}
                <tr>
                    <td class="px-4 py-3 fw-semibold">{{ quiz.title }}</td>
                    <td class="text-center">
                        <a href="{% url 'add_question' quiz.id %}" class="btn btn-sm btn-info me-1">
                            <i class="fa-solid fa-list"></i> Manage
                        </a>
                        <a href="{% url 'edit_quiz' quiz.id %}" class="btn btn-sm btn-warning me-1 text-dark">
                            <i class="fa-solid fa-pen-to-square"></i> Edit
                        </a>
                        <a href="{% url 'upload_questions' quiz.id %}" class="btn btn-sm btn-success me-1">
                            <i class="fa-solid fa-file-upload"></i> Upload
                        </a>
                        <a href="{% url 'delete_quiz' quiz.id %}" 
                           class="btn btn-sm btn-danger"
                           onclick="return confirm('Are you sure you want to delete this quiz and all its questions?')">
                           <i class="fa-solid fa-trash"></i> Delete
                        </a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="2" class="text-center text-secondary py-4">
                        <i class="fa-solid fa-circle-info"></i> No quizzes available yet.
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<!-- Custom Styling -->
<style>
    body {
        background-color: #000; /* Dark mode background */
    }

    .table {
        border-collapse: separate;
        border-spacing: 0 10px;
    }

    .table-dark tbody tr {
        background-color: #1a1a1a;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .table-dark tbody tr:hover {
        transform: scale(1.02);
        box-shadow: 0 4px 12px rgba(0, 255, 150, 0.3);
    }

    .table th {
        background: linear-gradient(90deg, #00c6ff, #0072ff);
        border: none;
    }

    .btn-sm {
        border-radius: 20px;
        font-weight: 500;
        transition: transform 0.2s ease;
    }

    .btn-sm:hover {
        transform: scale(1.08);
    }

    .bg-gradient-primary {
        background: linear-gradient(135deg, #007bff, #00c6ff);
    }
</style>
{% endblock %}
